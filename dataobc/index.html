<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ƒê·∫∑t √Åo B√≥ng Chuy·ªÅn - L·ªõp 11D1</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet">
    <style>
        :root{--card-w:19em;--card-h:25em; --primary:#9b40fc;}
        *,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
        body{font-family:'Segoe UI',sans-serif;background:linear-gradient(135deg,#0f0c29,#302b63,#24243e);color:#fff;min-height:100vh;display:flex;flex-direction:column;}
        .container{max-width:1400px;margin:auto;width:100%;flex:1;padding:20px 15px;}
        .header{text-align:center;padding:20px 0;}
        .header h1{font-size:2.8em;text-shadow:0 0 20px var(--primary);}
        .header p{font-size:1.2em;opacity:0.9;}
        .stats-summary{text-align:center;margin:20px 0;padding:20px;background:rgba(255,255,255,.1);border-radius:16px;}
        .stats-summary h2{font-size:1.8em;color:var(--primary);margin-bottom:10px;}
        .stats-numbers{display:flex;justify-content:center;gap:40px;flex-wrap:wrap;}
        .stat-item{font-size:1.2em;}
        .stat-number{font-size:2.5em;font-weight:bold;color:var(--primary);}
        .orders-list{margin:30px 0;background:rgba(255,255,255,.1);padding:20px;border-radius:16px;}
        .orders-list h2{text-align:center;margin-bottom:20px;color:var(--primary);}
        table{width:100%;border-collapse:collapse;margin-bottom:30px;}
        table th, table td{padding:12px;text-align:center;border-bottom:1px solid rgba(255,255,255,.1);}
        table th{background:rgba(var(--primary),.3);}
        .no-orders{text-align:center;color:#aaa;font-style:italic;margin:20px 0;}
        .not-ordered{margin:40px 0;background:rgba(255,255,255,.1);padding:20px;border-radius:16px;}
        .not-ordered h2{text-align:center;margin-bottom:20px;color:var(--primary);}
        .not-ordered-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:15px;}
        .not-ordered-item{background:rgba(255,255,255,.05);padding:12px;border-radius:12px;text-align:center;font-size:1.1em;transition:.3s;}
        .not-ordered-item:hover{background:rgba(255,255,255,.15);transform:scale(1.05);}
        .all-ordered{text-align:center;font-size:1.5em;color:#9b40fc;font-weight:bold;padding:40px;}
        .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(var(--card-w),1fr));gap:2em;justify-content:center;padding:20px 0;}
        .card{position:relative;width:var(--card-w);height:var(--card-h);background:#171717;border-radius:20px;overflow:hidden;cursor:pointer;box-shadow:0 10px 30px rgba(0,0,0,.5);transition:transform .4s;}
        .card:hover{transform:translateY(-12px);}
        .card img{width:100%;height:70%;object-fit:cover;}
        .card .name{text-align:center;padding:10px;font-size:1.2em;font-weight:bold;}
        .card.ordered{opacity:0.7;border:3px solid var(--primary);}
        .modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.95);backdrop-filter:blur(10px);z-index:999;justify-content:center;align-items:center;}
        .modal.active{display:flex;}
        .modal-content{background:#111;padding:30px;border-radius:20px;max-width:500px;width:90%;box-shadow:0 20px 60px rgba(0,0,0,.8);}
        .modal-header{text-align:center;margin-bottom:20px;}
        .modal-header h2{font-size:1.8em;color:var(--primary);}
        form label{display:block;margin:15px 0 5px;font-weight:bold;}
        form input, form select{width:100%;padding:12px;border-radius:8px;border:none;background:rgba(255,255,255,.1);color:#fff;font-size:1em;}
        form select option{color:#000;}
        form button{margin-top:20px;width:100%;padding:14px;background:var(--primary);border:none;border-radius:12px;color:#fff;font-weight:bold;cursor:pointer;transition:.3s;}
        form button:hover{background:#7a32c7;transform:scale(1.02);}
        .close-modal{position:absolute;top:10px;right:15px;background:none;border:none;color:#fff;font-size:2em;cursor:pointer;}
        @media (max-width:480px){.header h1{font-size:2.2em;}.grid{gap:1.5em;}.stats-numbers{gap:20px;}.stat-number{font-size:2em;}.not-ordered-grid{grid-template-columns:repeat(auto-fill,minmax(150px,1fr));}}
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ƒê·∫∂T √ÅO B√ìNG CHUY·ªÄN</h1>
            <p>L·ªõp 11D1 - NƒÉm H·ªçc 2025</p>
        </div>

        <div class="stats-summary">
            <h2>TH·ªêNG K√ä ƒê·∫∂T √ÅO</h2>
            <div class="stats-numbers">
                <div class="stat-item">ƒê√£ ƒë·∫∑t: <span class="stat-number" id="orderedCount">0</span></div>
                <div class="stat-item">Ch∆∞a ƒë·∫∑t: <span class="stat-number" id="notOrderedCount">0</span></div>
                <div class="stat-item">T·ªïng: <span class="stat-number" id="totalCount">0</span></div>
            </div>
        </div>

        <div class="orders-list">
            <h2>DANH S√ÅCH ƒê√É ƒê·∫∂T √ÅO</h2>
            <table id="ordersTable">
                <thead>
                    <tr>
                        <th>H·ªç t√™n</th>
                        <th>T√™n in tr√™n l∆∞ng (n·∫øu c√≥)</th>
                        <th>Size</th>
                        <th>S·ªë √°o</th>
                    </tr>
                </thead>
                <tbody id="ordersBody"></tbody>
            </table>
            <p id="noOrders" class="no-orders">Ch∆∞a c√≥ ai ƒë·∫∑t √°o.</p>
        </div>

        <div class="not-ordered">
            <h2>TH√ÄNH VI√äN CH∆ØA ƒê·∫∂T √ÅO</h2>
            <div id="notOrderedGrid" class="not-ordered-grid"></div>
            <div id="allOrdered" class="all-ordered" style="display:none;">T·∫•t c·∫£ th√†nh vi√™n ƒë√£ ƒë·∫∑t √°o xong! üéâüèê</div>
        </div>

        <div class="grid" id="studentGrid"></div>
    </div>

    <div class="modal" id="orderModal">
        <div class="modal-content">
            <button class="close-modal">√ó</button>
            <div class="modal-header">
                <h2 id="modalTitle">ƒê·∫∑t √°o cho ...</h2>
            </div>
            <form id="orderForm">
                <label for="backName">T√™n in tr√™n l∆∞ng √°o (t√πy ch·ªçn):</label>
                <input type="text" id="backName" placeholder="V√≠ d·ª•: Th·∫°ch M√¥ Ra ho·∫∑c ƒë·ªÉ tr·ªëng">

                <label for="size">Size √°o:</label>
                <select id="size" required>
                    <option value="">Ch·ªçn size</option>
                    <option value="S">S</option>
                    <option value="M">M</option>
                    <option value="L">L</option>
                    <option value="XL">XL</option>
                    <option value="XXL">XXL</option>
                </select>

                <label for="number">S·ªë √°o (00-99):</label>
                <input type="number" id="number" min="0" max="99" required placeholder="V√≠ d·ª•: 23">

                <button type="submit">X√ÅC NH·∫¨N ƒê·∫∂T √ÅO</button>
            </form>
        </div>
    </div>

    <script>
        const students = [
            {name:"L·∫°i Qu·∫ø Anh"},{name:"L√Ω Ng·ªçc Lan Anh"},
            {name:"Nguy·ªÖn Th·ªã Ng·ªçc Anh"},{name:"Th·∫°ch Kim Anh"},
            {name:"Hu·ª≥nh Tuy·∫øt BƒÉng"},{name:"√îng Th·ªã Tuy·∫øt Chi"},
            {name:"L√™ Phong D√¢n"},{name:"Tr·∫ßn Th·ªã H·ªìng Di·ªáp"},
            {name:"L√¢m Tr∆∞·ªùng Duy"},{name:"Nguy·ªÖn L√¢m Nh·∫≠t Duy"},
            {name:"TƒÉng Ph∆∞·ªõc ƒê·∫°i"},{name:"Mai Lan Em"},
            {name:"Ph·∫°m T·∫•n ƒê·∫°t"},{name:"Hu·ª≥nh Ng·ªçc Giao"},
            {name:"L∆∞u Gia H√¢n"},{name:"Nguy·ªÖn Ng·ªçc Gia H√¢n"},
            {name:"Hu·ª≥nh VƒÉn H√≥a"},{name:"Du L√Ω Gia Khang"},
            {name:"L∆∞u V·ªπ Khang (Anh Hai)"},{name:"Nguy·ªÖn Thanh L√¢m"},
            {name:"Tr·∫ßn L√¢m"},{name:"Tri·ªáu Th·ªã Ng·ªçc Linh"},
            {name:"H·ª©a Kim L∆∞·ª£ng"},{name:"Qu√°ch Th·∫£o My"},
            {name:"L√¢m Kim Ng√¢n"},{name:"Tr·ªãnh Kh∆∞u M·ªπ Nghi"},
            {name:"Ong Th·ªã B·∫£o Ng·ªçc"},{name:"Phan Nguy·ªÖn Nh√£ Nguy√™n"},
            {name:"L√¢m ƒê·∫∑ng Ph∆∞·ª£ng Quy√™n"},{name:"Nguy·ªÖn Th·ªã Xu√¢n Qu·ª≥nh"},
            {name:"Th·∫°ch M√¥ Ra"},{name:"Hu·ª≥nh Ho√†ng T·∫•n"},
            {name:"Nguy·ªÖn T·∫•n Th·ªãnh"},{name:"Tr·∫ßn Th·ªã Anh Th∆∞"},
            {name:"L√¢m Ng·ªçc Ho√†i Th∆∞∆°ng"},{name:"Nguy·ªÖn Th·ªã Ng·ªçc Ti·∫øn"},
            {name:"Ch√¢u Th·ªã Th·ªßy Tr√∫c"},{name:"Tri·ªáu Thanh T√∫"},
            {name:"D∆∞∆°ng Th·ªã B√≠ch Tuy·ªÅn"},{name:"Tr·∫ßn VƒÉn T√Ω"},{name:"Hu·ª≥nh C√¥ng Vinh"},
            {name:"D∆∞∆°ng Th·ªã Ng·ªçc Vy"},{name:"Tr·ªãnh Th·ªã Kim Y·∫øn"}
        ];

        const grid = document.getElementById('studentGrid');
        const modal = document.getElementById('orderModal');
        const closeBtn = document.querySelector('.close-modal');
        const form = document.getElementById('orderForm');
        const title = document.getElementById('modalTitle');
        const ordersBody = document.getElementById('ordersBody');
        const noOrders = document.getElementById('noOrders');
        const notOrderedGrid = document.getElementById('notOrderedGrid');
        const allOrdered = document.getElementById('allOrdered');
        const orderedCountEl = document.getElementById('orderedCount');
        const notOrderedCountEl = document.getElementById('notOrderedCount');
        const totalCountEl = document.getElementById('totalCount');

        let orders = JSON.parse(localStorage.getItem('volleyballOrders') || '[]');
        let currentStudent = '';
        const totalStudents = students.length;
        totalCountEl.textContent = totalStudents;

        function updateStats() {
            const ordered = orders.length;
            const notOrdered = totalStudents - ordered;
            orderedCountEl.textContent = ordered;
            notOrderedCountEl.textContent = notOrdered;

            // Danh s√°ch ch∆∞a ƒë·∫∑t - d·∫°ng grid card ƒë·∫πp
            notOrderedGrid.innerHTML = '';
            const orderedNames = orders.map(o => o.name);
            const notOrderedNames = students.filter(s => !orderedNames.includes(s.name));

            if (notOrderedNames.length === 0) {
                allOrdered.style.display = 'block';
                notOrderedGrid.style.display = 'none';
            } else {
                allOrdered.style.display = 'none';
                notOrderedGrid.style.display = 'grid';
                notOrderedNames.forEach(s => {
                    const item = document.createElement('div');
                    item.className = 'not-ordered-item';
                    item.textContent = s.name;
                    notOrderedGrid.appendChild(item);
                });
            }
        }

        function renderOrders() {
            ordersBody.innerHTML = '';
            if (orders.length === 0) {
                noOrders.style.display = 'block';
                return;
            }
            noOrders.style.display = 'none';
            orders.forEach(order => {
                const tr = document.createElement('tr');
                const backNameDisplay = order.backName || '(Kh√¥ng in t√™n)';
                tr.innerHTML = `<td>${order.name}</td><td>${backNameDisplay}</td><td>${order.size}</td><td>${order.number}</td>`;
                ordersBody.appendChild(tr);
            });
        }

        function updateCardStyles() {
            document.querySelectorAll('.card').forEach(card => {
                const name = card.querySelector('.name').textContent;
                if (orders.some(o => o.name === name)) {
                    card.classList.add('ordered');
                } else {
                    card.classList.remove('ordered');
                }
            });
        }

        // Create grid (c·∫≠p nh·∫≠t ·∫£nh √°o ƒë·∫πp h∆°n)
        students.forEach(s => {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <img src="https://aressport.vn/wp-content/uploads/2025/04/quan-ao-bong-chuyen-2.webp" alt="√Åo b√≥ng chuy·ªÅn" loading="lazy">
                <div class="name">${s.name}</div>
            `;
            card.onclick = () => {
                if (orders.some(o => o.name === s.name)) {
                    alert('B·∫°n n√†y ƒë√£ ƒë·∫∑t √°o r·ªìi nh√©!');
                    return;
                }
                currentStudent = s.name;
                title.textContent = `ƒê·∫∑t √°o cho ${s.name}`;
                modal.classList.add('active');
            };
            grid.appendChild(card);
        });

        // Modal controls
        closeBtn.onclick = () => { modal.classList.remove('active'); form.reset(); };
        window.onclick = e => { if (e.target === modal) closeBtn.click(); };

        // Form submit
        form.onsubmit = e => {
            e.preventDefault();
            let backName = document.getElementById('backName').value.trim();
            const size = document.getElementById('size').value;
            const numberRaw = document.getElementById('number').value;
            const number = numberRaw.padStart(2, '0');

            if (!size || !numberRaw) return;

            if (backName === '') backName = '';

            if (orders.some(o => o.number === number)) {
                alert('S·ªë √°o ' + number + ' ƒë√£ c√≥ ng∆∞·ªùi ƒë·∫∑t! Ch·ªçn s·ªë kh√°c ƒëi bro.');
                return;
            }

            const order = { name: currentStudent, backName, size, number };
            orders.push(order);
            localStorage.setItem('volleyballOrders', JSON.stringify(orders));

            renderOrders();
            updateStats();
            updateCardStyles();

            alert('ƒê·∫∑t √°o th√†nh c√¥ng cho ' + currentStudent + '!');
            modal.classList.remove('active');
            form.reset();
        };

        // Init
        renderOrders();
        updateStats();
        updateCardStyles();
    </script>
</body>
</html>
